<!DOCTYPE html>
<html ng-app="app">
<head>
	<title></title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
</head>
<body ng-controller="MainCtrl">
	<h1>{{titulo}}</h1>
	<div>
		<button ng-click="showFormFunction()">+Producto</button>
		<button ng-click="showListFunction()">Productos</button>
	</div>
	<div>
      <!-- Formulario para crear producto -->
      <form id="crear--producto" ng-if="showForm">
      	<h2>Crear producto</h2>
      	<input type="text" ng-model="producto.nombre" name="nombre" placeholder="Nombre producto">
      	<br>
      	<input type="number" ng-model="producto.precio" name="precio" placeholder="Precio">
      	<br>
      	<select  ng-model="producto.moneda">
      		<option value="UYU">Pesos</option>
      		<option value="USD">Dolares</option>
      	</select>
      	<br>
      	<input type="text" ng-model="producto.codigo" name="codigo" placeholder="Codigo">
      	<br>
      	<button ng-click="guardaProducto()">Guardar</button>
      	<button>Cancelar</button>
      </form>
    </div>
    <hr>
    <div ng-if="showList">
      <!-- Buscar producto por codigo -->
      <div>
        <input type="text" name="" ng-model="query.codigo">
        <button ng-click="buscarProductoPorCodigo()">Buscar producto</button>
      </div>
    	<table>
    		<thead>
    			<tr>
    				<th>ID</th>
    				<th>Nombre</th>
    				<th>Precio</th>
    				<th>Moneda</th>
    				<th></th>
    			</tr>
    		</thead>
    		<tbody>
    			<tr ng-repeat="producto in productos" ng-if="!noResults">
    				<td>{{producto._id}}</td>
    				<td>{{producto.nombre}}</td>
    				<td>{{producto.precio}}</td>
    				<td>{{producto.moneda}}</td>
    				<td>
    					<button ng-click="seleccionarProducto(producto._id)">Seleccionar</button>
    					<button ng-click="eliminarProductoPorId(producto._id)">Eliminar</button>
    				</td>
    			</tr>
          <tr ng-if="noResults">
            <td colspan="5">
              {{noResultsMsg}}
            </td>
          </tr>
    		</tbody>
    	</table>
    </div>
    <script type="text/javascript" src="app.js"></script>
</body>
</html>